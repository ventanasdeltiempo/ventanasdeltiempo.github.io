<!DOCTYPE html>
<html lang="es">
<head>
  <!-- Metadatos básicos -->
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Las Ventanas del Tiempo</title>

  <!-- Importamos Tailwind CSS -->
  <script src="https://cdn.tailwindcss.com"></script>
  <script>
    /* Configuración de Tailwind para colores y radios de borde personalizados */
    tailwind.config = {
      theme: {
        extend: {
          colors: {
            primary: '#15B8A6',
            secondary: '#7B92FF'
          },
          borderRadius: {
            'none': '0px',
            'sm': '4px',
            DEFAULT: '8px',
            'md': '12px',
            'lg': '16px',
            'xl': '20px',
            '2xl': '24px',
            '3xl': '32px',
            'full': '9999px',
            'button': '8px'
          }
        }
      }
    };
  </script>

  <!-- Fuentes e iconos -->
  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
  <link
    href="https://fonts.googleapis.com/css2?family=Pacifico&display=swap"
    rel="stylesheet"
  />
  <link
    href="https://cdn.jsdelivr.net/npm/remixicon@4.5.0/fonts/remixicon.css"
    rel="stylesheet"
  />

  <!-- Estilos personalizados -->
  <style>
    /* Ajuste del contenido para iconos que comienzan con "ri-" */
    :where([class^="ri-"])::before {
      content: "\f3c2";
    }

    /* Transición para contadores numéricos */
    .stats-count {
      transition: all 0.3s ease;
      display: inline-block;
    }
  </style>
</head>

<body class="bg-gray-50">
  <!-- Barra de navegación fija en la parte superior -->
  <nav class="fixed top-0 left-0 right-0 bg-white shadow-sm z-50">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
      <div class="flex justify-between h-16 items-center">
        <!-- Logo del sitio -->
        <div class="font-['Pacifico'] text-2xl text-primary">logo</div>

        <!-- Menú en pantallas medianas y grandes -->
        <div class="hidden md:flex space-x-8 items-center">
          <a href="#inicio" class="text-gray-700 hover:text-primary">Inicio</a>
          <a href="#mapa" class="text-gray-700 hover:text-primary">Mapa</a>
          <a href="#proyecto" class="text-gray-700 hover:text-primary">Proyecto</a>
          <button
            class="bg-primary text-white px-4 py-2 rounded-button text-sm font-semibold flex items-center space-x-2 hover:bg-primary/90 transition-colors cursor-pointer ml-4"
            id="navRequestWindowBtn"
          >
            <i class="ri-add-line"></i>
            <span>Quiero una Ventana</span>
          </button>
        </div>

        <!-- Sección de menú y botón en pantallas móviles -->
        <div class="flex items-center md:hidden">
          <button
            class="bg-primary text-white px-3 py-1.5 rounded-button text-xs font-semibold flex items-center space-x-1 hover:bg-primary/90 transition-colors cursor-pointer mr-2"
            id="mobileRequestWindowBtn"
          >
            <i class="ri-add-line"></i>
            <span>Ventana</span>
          </button>
          <div class="w-10 h-10 flex items-center justify-center cursor-pointer" id="menuButton">
            <i class="ri-menu-line text-2xl"></i>
          </div>
        </div>
      </div>
    </div>
  </nav>

  <!-- Menú móvil (desplegable) oculto inicialmente -->
  <div
    class="fixed top-16 right-0 bg-white w-64 shadow-lg transform translate-x-full transition-transform duration-200 z-40"
    id="mobileMenu"
  >
    <div class="py-2">
      <a href="#inicio" class="block px-4 py-2 text-gray-700 hover:bg-gray-100">Inicio</a>
      <a href="#mapa" class="block px-4 py-2 text-gray-700 hover:bg-gray-100">Mapa</a>
      <a href="#proyecto" class="block px-4 py-2 text-gray-700 hover:bg-gray-100">Proyecto</a>
    </div>
  </div>

  <!-- Contenido principal con un margen superior para no tapar el nav -->
  <main class="pt-16">
    <!-- Sección "Sobre el Proyecto" -->
    <section class="py-16 bg-gray-50" id="proyecto">
      <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
        <h2 class="text-3xl font-bold text-center mb-12">Sobre el Proyecto</h2>
        <div class="grid md:grid-cols-2 gap-12 items-center">
          <div>
            <p class="text-gray-600 mb-6">
              Las Ventanas del Tiempo es una iniciativa innovadora que busca conectar a los ciudadanos 
              con la rica historia de nuestra ciudad. A través de fotografías históricas instaladas 
              en ubicaciones específicas, creamos puentes visuales entre el pasado y el presente.
            </p>
            <p class="text-gray-600 mb-6">
              En la sección Proyecto encontrarás información detallada sobre:
            </p>
            <ul class="list-disc list-inside text-gray-600 mb-6">
              <li>Cómo funciona nuestra iniciativa</li>
              <li>Aplicaciones y casos de uso</li>
              <li>Sobre nosotros y nuestro equipo</li>
            </ul>
          </div>
          <div class="h-[400px] rounded-lg overflow-hidden">
            <img
              src="https://public.readdy.ai/ai/img_res/67801e4ccca6d3902b562d9f2b98e8ce.jpg"
              class="w-full h-full object-cover"
              alt="Proyecto Ventanas del Tiempo"
            />
          </div>
        </div>
      </div>
    </section>
  </main>

  <!-- Pie de página -->
  <footer class="bg-white border-t">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12">
      <div class="grid md:grid-cols-4 gap-8">
        <!-- Columna 1: Logo y descripción -->
        <div>
          <div class="font-['Pacifico'] text-2xl text-primary mb-4">logo</div>
          <p class="text-gray-600 text-sm">
            Conectando el pasado y el presente a través de ventanas fotográficas en nuestra ciudad.
          </p>
        </div>

        <!-- Columna 2: Enlaces -->
        <div>
          <h4 class="font-semibold mb-4">Enlaces</h4>
          <ul class="space-y-2 text-gray-600">
            <li><a href="#mapa" class="hover:text-primary">Mapa</a></li>
            <li><a href="#proyecto" class="hover:text-primary">Proyecto</a></li>
            <li><a href="#" class="hover:text-primary" id="footerRequestBtn">Quiero una Ventana</a></li>
          </ul>
        </div>

        <!-- Columna 3: Redes sociales -->
        <div>
          <h4 class="font-semibold mb-4">Síguenos</h4>
          <a
            href="https://instagram.com/ventanasdeltiempo"
            target="_blank"
            class="flex items-center text-gray-600 hover:text-primary"
          >
            <i class="ri-instagram-line text-xl mr-2"></i>
            <span>@ventanasdeltiempo</span>
          </a>
        </div>

        <!-- Columna 4: Información de contacto -->
        <div>
          <h4 class="font-semibold mb-4">Contacto</h4>
          <p class="text-gray-600">info@ventanasdeltiempo.es</p>
        </div>
      </div>
      <!-- Sección de derechos reservados -->
      <div class="border-t mt-12 pt-8 text-center text-gray-600 text-sm">
        <p>&copy; 2025 Las Ventanas del Tiempo. Todos los derechos reservados.</p>
      </div>
    </div>
  </footer>

  <!-- Modal para solicitar una Ventana del Tiempo -->
  <div
    class="fixed inset-0 bg-black/50 hidden items-center justify-center"
    id="requestModal"
  >
    <div class="bg-white rounded-lg p-8 max-w-md w-full mx-4">
      <h3 class="text-2xl font-bold mb-4">Solicitar una Ventana</h3>
      <p class="text-gray-600 mb-6">
        Déjanos tus datos y nos pondremos en contacto contigo para discutir la 
        instalación de una Ventana del Tiempo en tu ubicación.
      </p>
      <!-- Formulario de solicitud -->
      <form id="requestForm" class="space-y-4">
        <input
          type="text"
          placeholder="Nombre completo"
          class="w-full p-3 border rounded-lg"
          required
        />
        <input
          type="email"
          placeholder="Correo electrónico"
          class="w-full p-3 border rounded-lg"
          required
        />
        <input
          type="tel"
          placeholder="Teléfono"
          class="w-full p-3 border rounded-lg"
          required
        />
        <textarea
          placeholder="Ubicación propuesta y comentarios"
          class="w-full p-3 border rounded-lg"
          rows="4"
          required
        ></textarea>
        <div class="flex justify-end space-x-4">
          <!-- Botón para cerrar el modal sin enviar -->
          <button
            type="button"
            class="px-6 py-2 rounded-button border border-gray-300 hover:bg-gray-50 cursor-pointer"
            id="closeModal"
          >
            Cancelar
          </button>
          <!-- Botón de envío del formulario -->
          <button
            type="submit"
            class="px-6 py-2 rounded-button bg-primary text-white hover:bg-primary/90 cursor-pointer"
          >
            Enviar
          </button>
        </div>
      </form>
    </div>
  </div>

  <!-- Scripts de funcionalidad -->
  <script>
    // Elementos del DOM
    const menuButton = document.getElementById('menuButton');
    const mobileMenu = document.getElementById('mobileMenu');
    const readMoreBtn = document.getElementById('readMoreBtn');
    const moreText = document.getElementById('moreText');
    const requestWindowBtn = document.getElementById('requestWindowBtn');
    const requestModal = document.getElementById('requestModal');
    const closeModal = document.getElementById('closeModal');
    const requestForm = document.getElementById('requestForm');

    // Mostrar/ocultar menú móvil al hacer clic en el botón
    menuButton.addEventListener('click', () => {
      mobileMenu.classList.toggle('translate-x-full');
    });

    // Redirección de ejemplo al hacer clic en el botón dentro de la sección #proyecto
    document.querySelector('#proyecto button').addEventListener('click', () => {
      window.location.href = '/proyecto';
    });

    // Manejo de botones para abrir el modal de solicitud
    const navRequestWindowBtn = document.getElementById('navRequestWindowBtn');
    const mobileRequestWindowBtn = document.getElementById('mobileRequestWindowBtn');
    const footerRequestBtn = document.getElementById('footerRequestBtn');

    // Agrupamos los botones en un array para asignarles la misma acción
    [requestWindowBtn, navRequestWindowBtn, mobileRequestWindowBtn, footerRequestBtn].forEach(btn => {
      btn.addEventListener('click', () => {
        // Mostrar el modal
        requestModal.classList.remove('hidden');
        requestModal.classList.add('flex');
      });
    });

    // Cerrar el modal al hacer clic en el botón "Cancelar"
    closeModal.addEventListener('click', () => {
      requestModal.classList.add('hidden');
      requestModal.classList.remove('flex');
    });

    // Manejo del envío del formulario
    requestForm.addEventListener('submit', (e) => {
      e.preventDefault();
      // Al enviar, simplemente ocultamos el modal (no se realiza envío real)
      requestModal.classList.add('hidden');
      requestModal.classList.remove('flex');
    });

    // Función para animar un contador numérico
    function animateCount(element, target) {
      let current = 0;
      const duration = 2000;   // Duración de la animación en milisegundos
      const step = target / (duration / 16);

      function update() {
        current = Math.min(current + step, target);
        element.textContent = Math.floor(current);
        if (current < target) {
          requestAnimationFrame(update);
        }
      }
      update();
    }

    // Datos simulados de ejemplo
    const mockData = {
      windows: 156,
      photos: 3427
    };

    // IntersectionObserver para disparar la animación cuando el elemento entra en la pantalla
    const observer = new IntersectionObserver((entries) => {
      entries.forEach(entry => {
        if (entry.isIntersecting) {
          // Llamamos a la función de animación para dos contadores distintos
          animateCount(document.getElementById('windowsCount'), mockData.windows);
          animateCount(document.getElementById('photosCount'), mockData.photos);
          observer.disconnect(); // Detiene la observación para no repetir la animación
        }
      });
    });

    // Observamos un elemento para iniciar la animación de contadores
    observer.observe(document.getElementById('windowsCount'));
  </script>
</body>
</html>
